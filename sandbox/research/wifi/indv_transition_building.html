<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/networkgraph.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">
    </p>
</figure>


<style>
.highcharts-figure, .highcharts-data-table table {
    min-width: 600px; 
    max-width: 1000px;
    margin: 1em auto;
}

.highcharts-data-table table {
    font-family: Verdana, sans-serif;
    border-collapse: collapse;
    border: 1px solid #EBEBEB;
    margin: 10px auto;
    text-align: center;
    width: 100%;
    max-width: 1000px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}
.highcharts-data-table th {
    font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}
</style>

<script>
// Add the nodes option through an event call. We want to start with the parent
// item and apply separate colors to each child element, then the same color to
// grandchildren.
Highcharts.addEvent(
    Highcharts.Series,
    'afterSetOptions',
    function (e) {
        var colors = Highcharts.getOptions().colors,
            i = 0,
            nodes = {};

        if (
            this instanceof Highcharts.seriesTypes.networkgraph &&
            e.options.id === 'lang-tree'
        ) {
            e.options.data.forEach(function (link) {

                if (link[2] >= 500) {
                    nodes[link[1]] = {
                        id: link[1],
                        marker: {
                            radius: 10
                        },
                        color: colors[4]
                    };
                    nodes[link[0]] = {
                        id: link[0],
                        marker: {
                            radius: 10
                        },
                        color: colors[4]
                    };
                } 
                if (link[2] >= 1000) {
                    nodes[link[1]] = {
                        id: link[1],
                        marker: {
                            radius: 20
                        },
                        color: colors[3]
                    };
                    nodes[link[0]] = {
                        id: link[0],
                        marker: {
                            radius: 20
                        },
                        color: colors[3]
                    };
                } 
                if (link[2] >= 2000) {
                    nodes[link[1]] = {
                        id: link[1],
                        marker: {
                            radius: 30
                        },
                        color: colors[1]
                    };
                    nodes[link[0]] = {
                        id: link[0],
                        marker: {
                            radius: 30
                        },
                        color: colors[1]
                    };
                } 
            });

            e.options.nodes = Object.keys(nodes).map(function (id) {
                return nodes[id];
            });
        }
    }
);

Highcharts.chart('container', {
    chart: {
        type: 'networkgraph',
        height: '150%'
    },
    title: {
        text: 'Connectivity Strength among different buildings :one week'
    },
    subtitle: {
        text: 'where volume >= 300 {>= (500, 1000, 2000) = (purple, orange, black)}'
    },
    plotOptions: {
        networkgraph: {
            keys: ['from', 'to'],
            layoutAlgorithm: {
                friction: -0.9
            }
        }
    },
    series: [{
        dataLabels: {
            enabled: true,
            linkFormat: ''
        },
        id: 'lang-tree',

data:[['AKIENG-E1', 'AKIENG-E3', 306], ['AKIENG-E1', 'ENGADM-E4', 305], ['AKIENG-E3', 'CCELIB-Central Library', 362], ['AKIENG-E3', 'ENGADM-E4', 499], ['AKIENG-ENGINE CANTEEN', 'AKIENG-SDE3', 545], ['AKIENG-ENGINE CANTEEN', 'CCELIB-Central Library', 329], ['AKIENG-SDE2', 'AKIENG-SDE3', 677], ['AKIENG-SDE2', 'ARTS-AS7', 329], ['AKIENG-SDE3', 'CCELIB-Central Library', 300], ['ARTS-AS1', 'ARTS-AS3', 424], ['ARTS-AS1', 'ARTS-AS4', 486], ['ARTS-AS1', 'ARTS-AS6', 429], ['ARTS-AS1', 'ARTS-Canteen', 473], ['ARTS-AS1', 'CCELIB-Central Library', 2258], ['ARTS-AS2', 'ARTS-AS3', 330], ['ARTS-AS2', 'CCELIB-Central Library', 494], ['ARTS-AS3', 'ARTS-AS4', 434], ['ARTS-AS3', 'ARTS-AS7', 301], ['ARTS-AS3', 'ARTS-Canteen', 331], ['ARTS-AS3', 'CCELIB-Central Library', 822], ['ARTS-AS4', 'CCELIB-Central Library', 742], ['ARTS-AS6', 'CCELIB-Central Library', 2614], ['ARTS-AS7', 'CCELIB-Central Library', 341], ['ARTS-Canteen', 'CCELIB-Central Library', 762], ['CCELIB-Central Library', 'LT11', 408], ['CCELIB-Central Library', 'LT14', 1178], ['CCELIB-Central Library', 'LT15', 392], ['CCELIB-Central Library', 'LT8', 452], ['CCELIB-Central Library', 'UTown25', 362], ['ENGADM-E4', 'ENGADM-E5', 325], ['FBALAW-I3', 'FBALAW-MochtarRiyady', 1133], ['LT31', 'SCIYIH-S16', 383], ['MEDNUH-MD1', 'MEDNUH-MD11', 422], ['MEDNUH-MD1', 'MEDNUH-MD6', 2744], ['MEDNUH-MD1', 'SCIPGP-S1A', 326], ['MEDNUH-MD1', 'SCIPGP-S5', 954], ['MEDNUH-MD1', 'SCIPGP-S6', 2739], ['MEDNUH-MD1', 'SCIYIH-S16', 510], ['MEDNUH-MD11', 'MEDNUH-MD6', 1074], ['MEDNUH-MD6', 'SCIPGP-S6', 556], ['SCIPGP-S1A', 'SCIYIH-S16', 304], ['SCIPGP-S5', 'SCIPGP-S6', 338], ['SCIPGP-S5', 'SCIYIH-S14', 661], ['SCIPGP-S5', 'SCIYIH-S16', 1066], ['SCIPGP-S6', 'SCIYIH-S16', 1127], ['SCIPGP-S8', 'SCIYIH-S13', 633], ['SCIPGP-S8', 'SCIYIH-S16', 689], ['SCIYIH-S16', 'SCIYIH-S17', 306], ['UTown-CREATE', 'UTown-ERC', 477], ['UTown-CREATE', 'UTown25', 634], ['UTown-ERC', 'UTown25', 2624]]

    }]
});
</script>